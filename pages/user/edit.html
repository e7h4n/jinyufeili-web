<form novalidate name="form" ng-submit="submit()">
    <div class="weui_cells">
        <div class="weui_cell">
            <div class="weui_cell_bd weui_cell_primary">
                <p>微信号</p>
            </div>
            <div class="weui_cell_ft">
                {{ user.name }}
            </div>
        </div>
        <div class="weui_cell" ng-if="user.resident.id">
            <div class="weui_cell_bd weui_cell_primary">
                <p>门牌号</p>
            </div>
            <div class="weui_cell_ft">
                {{ user.room | room }}
            </div>
        </div>
    </div>

    <div class="weui_cells_title">业主信息</div>
    <div class="weui_cells weui_cells_form">
        <div class="weui_cell">
            <div class="weui_cell_hd">
                <label class="weui_label" for="name">姓名</label>
            </div>
            <div class="weui_cell_bd weui_cell_primary">
                <input class="weui_input" type="text" required name="name" ng-model="user.resident.name" id="name">
            </div>
        </div>
        <div class="weui_cell">
            <div class="weui_cell_hd">
                <label class="weui_label" for="mobilePhone">手机号</label>
            </div>
            <div class="weui_cell_bd weui_cell_primary">
                <input class="weui_input" type="tel" ng-pattern="/\d{11}/" name="mobilePhone" ng-model="user.resident.mobilePhone" id="mobilePhone">
            </div>
        </div>
    </div>

    <div class="weui_cells_title">所属用户组</div>
    <div class="weui_cells weui_cells_checkbox">
        <label class="weui_cell weui_check_label" for="group-{{group.id}}" ng-repeat="group in groups track by group.id">
            <div class="weui_cell_hd">
                <input type="checkbox" class="weui_check" name="user_group_ids" id="group-{{group.id}}" ng-true-value="{{group}}" check-list ng-model="user.groups">
                <i class="weui_icon_checked"></i>
            </div>
            <div class="weui_cell_bd weui_cell_primary">
                <p>{{group.name}}</p>
            </div>
        </label>
    </div>

    <div class="weui_btn_area">
        <button class="weui_btn weui_btn_primary" type="submit" ng-disabled="!form.$valid" ng-class="{weui_btn_disabled: !form.$valid}">提交</button>
    </div>
</form>
